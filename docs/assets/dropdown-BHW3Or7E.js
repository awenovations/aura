import{S as Fe,i as Se,s as De,q as X,r as Pe,e as Y,c as x,a as $,w as se,m as ee,z as Ne,t as b,l as z,b as w,o as j,v as We,y as Ue,d as te,x as ke,j as ie,p as Te,k as ne,f as H,u as G,g as J,h as Q,n as re}from"./index-Ccukljoh.js";import{e as N,s as C,f as W,g as L,c as K,d as O,n as oe,o as ae,m as v,i as D,j as T,r as B,y as Z,u as Le,z as ue,h as fe,t as ge,a as ve,b as Be}from"./lifecycle-UvRGygTB.js";import{g as Ce}from"./spread-CgU5AtxT.js";import{c as ce}from"./index-DUolvyrz.js";import{I as Ke}from"./icon-VsapHHKu.js";import{F as Me}from"./float-BAdiZqdC.js";import{F as Re,v as ze}from"./form-item-CSApEFJx.js";function je(l,e){let t;const n=i=>{t&&document.removeEventListener("click",t),t=s=>{s.composedPath().includes(l)||i&&i(s)},document.addEventListener("click",t)};return n(e),{destroy(){document.removeEventListener("click",t)},update(i){n(i)}}}function He(l){return new Promise(e=>{if(document.querySelector(l))return e(document.querySelector(l));const t=new MutationObserver(()=>{document.querySelector(l)&&(t.disconnect(),e(document.querySelector(l)))});t.observe(document.body,{childList:!0,subtree:!0})})}const Ge=l=>({}),de=l=>({}),Je=l=>({}),me=l=>({}),Qe=l=>({}),pe=l=>({});function _e(l){let e,t;const n=l[20].label,i=H(n,l,l[25],pe);return{c(){e=N("label"),i&&i.c(),this.h()},l(s){e=W(s,"LABEL",{for:!0,class:!0});var o=L(e);i&&i.l(o),o.forEach(O),this.h()},h(){v(e,"for",l[4]),v(e,"class","label")},m(s,o){D(s,e,o),i&&i.m(e,null),t=!0},p(s,o){i&&i.p&&(!t||o[0]&33554432)&&G(i,n,s,s[25],t?Q(n,s[25],o,Qe):J(s[25]),pe),(!t||o[0]&16)&&v(e,"for",s[4])},i(s){t||(b(i,s),t=!0)},o(s){w(i,s),t=!1},d(s){s&&O(e),i&&i.d(s)}}}function he(l){let e,t,n;return{c(){e=N("input"),this.h()},l(i){e=W(i,"INPUT",{name:!0,type:!0}),this.h()},h(){v(e,"name",l[6]),v(e,"type","hidden")},m(i,s){D(i,e,s),ue(e,l[1]),t||(n=B(e,"input",l[21]),t=!0)},p(i,s){s[0]&64&&v(e,"name",i[6]),s[0]&2&&ue(e,i[1])},d(i){i&&O(e),t=!1,n()}}}function Xe(l){let e;const t=l[20].placeholder,n=H(t,l,l[25],me),i=n||Ze();return{c(){i.c()},l(s){i.l(s)},m(s,o){i.m(s,o),e=!0},p(s,o){n&&n.p&&(!e||o[0]&33554432)&&G(n,t,s,s[25],e?Q(t,s[25],o,Je):J(s[25]),me)},i(s){e||(b(i,s),e=!0)},o(s){w(i,s),e=!1},d(s){i.d(s)}}}function Ye(l){let e;return{c(){e=ge(l[1])},l(t){e=ve(t,l[1])},m(t,n){D(t,e,n)},p(t,n){n[0]&2&&Be(e,t[1])},i:re,o:re,d(t){t&&O(e)}}}function Ze(l){let e;return{c(){e=ge("select...")},l(t){e=ve(t,"select...")},m(t,n){D(t,e,n)},d(t){t&&O(e)}}}function xe(l){let e,t,n,i,s,o,f,y;const S=[Ye,Xe],q=[];function I(u,_){return u[1]?0:1}return t=I(l),n=q[t]=S[t](l),s=new Ke({props:{name:"caret-down",size:"small"}}),{c(){e=N("button"),n.c(),i=C(),x(s.$$.fragment),this.h()},l(u){e=W(u,"BUTTON",{id:!0,class:!0,type:!0});var _=L(e);n.l(_),i=K(_),$(s.$$.fragment,_),_.forEach(O),this.h()},h(){v(e,"id",l[4]),v(e,"class","trigger svelte-11l0xny"),v(e,"type","button")},m(u,_){D(u,e,_),q[t].m(e,null),T(e,i),ee(s,e,null),o=!0,f||(y=B(e,"focus",l[14]),f=!0)},p(u,_){let V=t;t=I(u),t===V?q[t].p(u,_):(z(),w(q[V],1,1,()=>{q[V]=null}),j(),n=q[t],n?n.p(u,_):(n=q[t]=S[t](u),n.c()),b(n,1),n.m(e,i)),(!o||_[0]&16)&&v(e,"id",u[4])},i(u){o||(b(n),b(s.$$.fragment,u),o=!0)},o(u){w(n),w(s.$$.fragment,u),o=!1},d(u){u&&O(e),q[t].d(),te(s),f=!1,y()}}}function be(l){let e,t;return e=new Me({props:{target:l[8],$$slots:{default:[$e]},$$scope:{ctx:l}}}),{c(){x(e.$$.fragment)},l(n){$(e.$$.fragment,n)},m(n,i){ee(e,n,i),t=!0},p(n,i){const s={};i[0]&256&&(s.target=n[8]),i[0]&33556992&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(b(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){te(e,n)}}}function $e(l){let e,t,n,i;const s=l[20].default,o=H(s,l,l[25],null);return{c(){e=N("div"),o&&o.c(),this.h()},l(f){e=W(f,"DIV",{role:!0,tabindex:!0,class:!0});var y=L(e);o&&o.l(y),y.forEach(O),this.h()},h(){v(e,"role","menu"),v(e,"tabindex","-1"),v(e,"class","aura-menu svelte-11l0xny"),fe(e,"--aura-menu-control-width",`${l[11]}px`)},m(f,y){D(f,e,y),o&&o.m(e,null),l[23](e),t=!0,n||(i=[B(e,"keypress",l[15]),B(e,"click",Z(l[16]))],n=!0)},p(f,y){o&&o.p&&(!t||y[0]&33554432)&&G(o,s,f,f[25],t?Q(s,f[25],y,null):J(f[25]),null),y[0]&2048&&fe(e,"--aura-menu-control-width",`${f[11]}px`)},i(f){t||(b(o,f),t=!0)},o(f){w(o,f),t=!1},d(f){f&&O(e),o&&o.d(f),l[23](null),n=!1,ke(i)}}}function ye(l){let e,t;const n=l[20].errors,i=H(n,l,l[25],de);return{c(){e=N("div"),i&&i.c(),this.h()},l(s){e=W(s,"DIV",{class:!0});var o=L(e);i&&i.l(o),o.forEach(O),this.h()},h(){v(e,"class","errors-text svelte-11l0xny")},m(s,o){D(s,e,o),i&&i.m(e,null),t=!0},p(s,o){i&&i.p&&(!t||o[0]&33554432)&&G(i,n,s,s[25],t?Q(n,s[25],o,Ge):J(s[25]),de)},i(s){t||(b(i,s),t=!0)},o(s){w(i,s),t=!1},d(s){s&&O(e),i&&i.d(s)}}}function et(l){var U;let e,t,n,i,s,o,f,y,S,q,I,u,_,V,m=l[18].label&&_e(l),h=((U=l[6])==null?void 0:U.length)>0&&he(l);function M(a){l[22](a)}let F={showFocusOutline:l[0]||l[3],error:(l[18].errors||l[10])&&l[5],$$slots:{default:[xe]},$$scope:{ctx:l}};l[2]!==void 0&&(F.required=l[2]),s=new Re({props:F}),X.push(()=>Pe(s,"required",M));let c=l[0]&&be(l),k=[l[17],{class:y="aura-dropdown"},{tabindex:"-1"},{role:"button"}],P={};for(let a=0;a<k.length;a+=1)P=Y(P,k[a]);let p=l[5]&&ye(l);return{c(){e=N("div"),t=N("div"),m&&m.c(),n=C(),h&&h.c(),i=C(),x(s.$$.fragment),f=C(),c&&c.c(),q=C(),p&&p.c(),this.h()},l(a){e=W(a,"DIV",{class:!0});var d=L(e);t=W(d,"DIV",{class:!0,tabindex:!0,role:!0});var g=L(t);m&&m.l(g),n=K(g),h&&h.l(g),i=K(g),$(s.$$.fragment,g),f=K(g),c&&c.l(g),g.forEach(O),q=K(d),p&&p.l(d),d.forEach(O),this.h()},h(){oe(t,P),ae(t,"svelte-11l0xny",!0),v(e,"class",I=se(ce("aura-dropdown-wrapper",l[17].class,{fullWidth:l[7]}))+" svelte-11l0xny")},m(a,d){D(a,e,d),T(e,t),m&&m.m(t,null),T(t,n),h&&h.m(t,null),T(t,i),ee(s,t,null),T(t,f),c&&c.m(t,null),l[24](t),T(e,q),p&&p.m(e,null),u=!0,_||(V=[Ne(S=je.call(null,t,(l[0]||l[3])&&l[13])),B(t,"keydown",Z(l[15])),B(t,"click",Z(l[12]))],_=!0)},p(a,d){var R;a[18].label?m?(m.p(a,d),d[0]&262144&&b(m,1)):(m=_e(a),m.c(),b(m,1),m.m(t,n)):m&&(z(),w(m,1,1,()=>{m=null}),j()),((R=a[6])==null?void 0:R.length)>0?h?h.p(a,d):(h=he(a),h.c(),h.m(t,i)):h&&(h.d(1),h=null);const g={};d[0]&9&&(g.showFocusOutline=a[0]||a[3]),d[0]&263200&&(g.error=(a[18].errors||a[10])&&a[5]),d[0]&33554450&&(g.$$scope={dirty:d,ctx:a}),!o&&d[0]&4&&(o=!0,g.required=a[2],We(()=>o=!1)),s.$set(g),a[0]?c?(c.p(a,d),d[0]&1&&b(c,1)):(c=be(a),c.c(),b(c,1),c.m(t,null)):c&&(z(),w(c,1,1,()=>{c=null}),j()),oe(t,P=Ce(k,[d[0]&131072&&a[17],{class:y},{tabindex:"-1"},{role:"button"}])),S&&Ue(S.update)&&d[0]&9&&S.update.call(null,(a[0]||a[3])&&a[13]),ae(t,"svelte-11l0xny",!0),a[5]?p?(p.p(a,d),d[0]&32&&b(p,1)):(p=ye(a),p.c(),b(p,1),p.m(e,null)):p&&(z(),w(p,1,1,()=>{p=null}),j()),(!u||d[0]&131200&&I!==(I=se(ce("aura-dropdown-wrapper",a[17].class,{fullWidth:a[7]}))+" svelte-11l0xny"))&&v(e,"class",I)},i(a){u||(b(m),b(s.$$.fragment,a),b(c),b(p),u=!0)},o(a){w(m),w(s.$$.fragment,a),w(c),w(p),u=!1},d(a){a&&O(e),m&&m.d(),h&&h.d(),te(s),c&&c.d(),l[24](null),p&&p.d(),_=!1,ke(V)}}}function tt(l,e,t){let n,i;const s=["id","isOpen","required","isFocused","showErrors","name","fullWidth","currentValue"];let o=ie(e,s),{$$slots:f={},$$scope:y}=e;const S=Te(f),q=Le();let{id:I=ze()}=e,{isOpen:u=!1}=e,{required:_=!1}=e,{isFocused:V=!1}=e,{showErrors:m=!1}=e,{name:h}=e,{fullWidth:M=!1}=e,{currentValue:F}=e,c,k,P=!1;const p=()=>{t(0,u=!u)},U=()=>{t(0,u=!1),t(3,V=!1)},a=()=>{t(3,V=!0)},d=r=>r.getAttribute("value")??r.value??r.textContent,g=r=>{const A=i.find(E=>r.composedPath().includes(E));if(A.tagName==="AURA-OPTION"){const E=d(A);e.currentValue||t(1,F=E),t(10,P=_&&!F),q("change",{value:E})}},R=async r=>{t(0,u=!0),await He(".aura-menu"),le(r)},we=r=>{r.preventDefault();let A=k.querySelector("aura-option[aria-selected] + aura-option");A||(A=k.querySelector("aura-option:first-of-type")),A.click()},qe=r=>{r.preventDefault();let A=k.querySelector("aura-option:has( + aura-option[aria-selected])");A||(A=k.querySelector("aura-option:last-of-type")),A.click()},le=async r=>{r.code==="Escape"||r.code==="Tab"?U():!u&&(r.code==="ArrowDown"||r.code==="ArrowUp")?await R(r):r.code==="ArrowDown"?we(r):r.code==="ArrowUp"&&qe(r)},Oe=r=>{g(r),r.pointerId!==-1&&U()};function Ae(){F=this.value,t(1,F)}function Ee(r){_=r,t(2,_)}function Ve(r){X[r?"unshift":"push"](()=>{k=r,t(9,k)})}function Ie(r){X[r?"unshift":"push"](()=>{c=r,t(8,c)})}return l.$$set=r=>{t(32,e=Y(Y({},e),ne(r))),t(17,o=ie(e,s)),"id"in r&&t(4,I=r.id),"isOpen"in r&&t(0,u=r.isOpen),"required"in r&&t(2,_=r.required),"isFocused"in r&&t(3,V=r.isFocused),"showErrors"in r&&t(5,m=r.showErrors),"name"in r&&t(6,h=r.name),"fullWidth"in r&&t(7,M=r.fullWidth),"currentValue"in r&&t(1,F=r.currentValue),"$$scope"in r&&t(25,y=r.$$scope)},l.$$.update=()=>{var r,A;if(l.$$.dirty[0]&257&&t(11,n=u!==void 0&&(c==null?void 0:c.getBoundingClientRect().width)||0),l.$$.dirty[0]&512&&t(19,i=Array.from(((A=(r=k==null?void 0:k.querySelector(".aura-menu slot"))==null?void 0:r.assignedElements())==null?void 0:A.filter(E=>["AURA-OPTION"].includes(E.tagName)))??(k==null?void 0:k.querySelectorAll(".aura-menu > :is(aura-option)"))??[])),l.$$.dirty[0]&524290)for(const E of i)E.setAttribute("tabindex","0"),E.tagName==="AURA-OPTION"&&(E.setAttribute("role","option"),F===d(E)?E.setAttribute("aria-selected",""):E.removeAttribute("aria-selected"))},e=ne(e),[u,F,_,V,I,m,h,M,c,k,P,n,p,U,a,le,Oe,o,S,i,f,Ae,Ee,Ve,Ie,y]}class lt extends Fe{constructor(e){super(),Se(this,e,tt,et,De,{id:4,isOpen:0,required:2,isFocused:3,showErrors:5,name:6,fullWidth:7,currentValue:1},null,[-1,-1])}}lt.__docgen={version:3,name:"dropdown.svelte",data:[{name:"id",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1,defaultValue:"..."},{name:"isOpen",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"required",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"isFocused",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"showErrors",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"name",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"fullWidth",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"currentValue",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1}],computed:[],methods:[],components:[],description:null,keywords:[],events:[{visibility:"public",description:null,keywords:[],name:"change"}],slots:[{keywords:[],visibility:"public",description:"",name:"label"},{keywords:[],visibility:"public",description:"",name:"placeholder"},{keywords:[],visibility:"public",description:"",name:"default"},{keywords:[],visibility:"public",description:"",name:"errors"}],refs:[]};export{lt as D};
