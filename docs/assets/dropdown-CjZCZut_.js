import{S as we,i as ve,s as Oe,e as C,c as z,a as B,m as j,y as Ae,t as y,g as K,b as v,f as L,z as Ee,d as H,w as ce,v as Y,h as Fe,j as Z,k as W,u as G,l as J,o as Q,p as $,n as x}from"./index-BfsfZwCs.js";import{e as D,s as N,v as ee,f as P,g as T,c as U,d as w,q as te,r as se,i as F,j as M,w as I,y as R,x as Se,m as S,z as le,h as ne,t as fe,a as de,b as Ve}from"./lifecycle-D41BJhRp.js";import{g as Ie}from"./spread-CgU5AtxT.js";import{I as qe}from"./icon-pgwLBmWw.js";import{F as De}from"./float-CiKVIVw4.js";import{F as Pe}from"./form-item-FTcfTeLK.js";function Ne(s,e){let t;const l=o=>{t&&document.removeEventListener("click",t),t=n=>{n.composedPath().includes(s)||o&&o(n)},document.addEventListener("click",t)};return l(e),{destroy(){document.removeEventListener("click",t)},update(o){l(o)}}}function Ue(s){return new Promise(e=>{if(document.querySelector(s))return e(document.querySelector(s));const t=new MutationObserver(()=>{document.querySelector(s)&&(t.disconnect(),e(document.querySelector(s)))});t.observe(document.body,{childList:!0,subtree:!0})})}const Te=s=>({}),oe=s=>({}),Ce=s=>({}),re=s=>({});function ie(s){let e,t,l;return{c(){e=D("input"),this.h()},l(o){e=P(o,"INPUT",{name:!0,type:!0}),this.h()},h(){S(e,"name",s[4]),S(e,"type","hidden")},m(o,n){F(o,e,n),le(e,s[1]),t||(l=I(e,"input",s[17]),t=!0)},p(o,n){n&16&&S(e,"name",o[4]),n&2&&le(e,o[1])},d(o){o&&w(e),t=!1,l()}}}function Ke(s){let e;const t=s[16].placeholder,l=W(t,s,s[20],re),o=l||Me();return{c(){o&&o.c()},l(n){o&&o.l(n)},m(n,a){o&&o.m(n,a),e=!0},p(n,a){l&&l.p&&(!e||a&1048576)&&G(l,t,n,n[20],e?Q(t,n[20],a,Ce):J(n[20]),re)},i(n){e||(y(o,n),e=!0)},o(n){v(o,n),e=!1},d(n){o&&o.d(n)}}}function Le(s){let e;return{c(){e=fe(s[1])},l(t){e=de(t,s[1])},m(t,l){F(t,e,l)},p(t,l){l&2&&Ve(e,t[1])},i:x,o:x,d(t){t&&w(e)}}}function Me(s){let e;return{c(){e=fe("select...")},l(t){e=de(t,"select...")},m(t,l){F(t,e,l)},d(t){t&&w(e)}}}function Re(s){let e,t,l,o,n,a,f,m;const A=[Le,Ke],h=[];function b(u,c){return u[1]?0:1}return t=b(s),l=h[t]=A[t](s),n=new qe({props:{name:"caret-down",size:"small"}}),{c(){e=D("button"),l.c(),o=N(),z(n.$$.fragment),this.h()},l(u){e=P(u,"BUTTON",{class:!0});var c=T(e);l.l(c),o=U(c),B(n.$$.fragment,c),c.forEach(w),this.h()},h(){S(e,"class","trigger svelte-abx6ep")},m(u,c){F(u,e,c),h[t].m(e,null),M(e,o),j(n,e,null),a=!0,f||(m=I(e,"focus",s[10]),f=!0)},p(u,c){let E=t;t=b(u),t===E?h[t].p(u,c):(K(),v(h[E],1,1,()=>{h[E]=null}),L(),l=h[t],l?l.p(u,c):(l=h[t]=A[t](u),l.c()),y(l,1),l.m(e,o))},i(u){a||(y(l),y(n.$$.fragment,u),a=!0)},o(u){v(l),v(n.$$.fragment,u),a=!1},d(u){u&&w(e),h[t].d(),H(n),f=!1,m()}}}function ae(s){let e,t;return e=new De({props:{target:s[5],$$slots:{default:[ze]},$$scope:{ctx:s}}}),{c(){z(e.$$.fragment)},l(l){B(e.$$.fragment,l)},m(l,o){j(e,l,o),t=!0},p(l,o){const n={};o&32&&(n.target=l[5]),o&1048768&&(n.$$scope={dirty:o,ctx:l}),e.$set(n)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){v(e.$$.fragment,l),t=!1},d(l){H(e,l)}}}function ze(s){let e,t,l,o;const n=s[16].default,a=W(n,s,s[20],null);return{c(){e=D("div"),a&&a.c(),this.h()},l(f){e=P(f,"DIV",{role:!0,tabindex:!0,class:!0});var m=T(e);a&&a.l(m),m.forEach(w),this.h()},h(){S(e,"role","menu"),S(e,"tabindex","-1"),S(e,"class","aura-menu svelte-abx6ep"),ne(e,"--aura-menu-control-width",`${s[7]}px`)},m(f,m){F(f,e,m),a&&a.m(e,null),s[18](e),t=!0,l||(o=[I(e,"keypress",s[11]),I(e,"click",R(s[12]))],l=!0)},p(f,m){a&&a.p&&(!t||m&1048576)&&G(a,n,f,f[20],t?Q(n,f[20],m,null):J(f[20]),null),m&128&&ne(e,"--aura-menu-control-width",`${f[7]}px`)},i(f){t||(y(a,f),t=!0)},o(f){v(a,f),t=!1},d(f){f&&w(e),a&&a.d(f),s[18](null),l=!1,ce(o)}}}function ue(s){let e,t;const l=s[16].errors,o=W(l,s,s[20],oe);return{c(){e=D("div"),o&&o.c(),this.h()},l(n){e=P(n,"DIV",{class:!0});var a=T(e);o&&o.l(a),a.forEach(w),this.h()},h(){S(e,"class","errors-text svelte-abx6ep")},m(n,a){F(n,e,a),o&&o.m(e,null),t=!0},p(n,a){o&&o.p&&(!t||a&1048576)&&G(o,l,n,n[20],t?Q(l,n[20],a,Te):J(n[20]),oe)},i(n){t||(y(o,n),t=!0)},o(n){v(o,n),t=!1},d(n){n&&w(e),o&&o.d(n)}}}function Be(s){var _;let e,t,l,o,n,a,f,m,A,h,b,u=((_=s[4])==null?void 0:_.length)>0&&ie(s);l=new Pe({props:{showFocusOutline:s[0]||s[2],error:s[14].errors&&s[3],$$slots:{default:[Re]},$$scope:{ctx:s}}});let c=s[0]&&ae(s),E=[s[13],{class:n=`aura-dropdown ${s[13].class}`},{tabindex:"-1"},{role:"button"}],O={};for(let i=0;i<E.length;i+=1)O=C(O,E[i]);let p=s[3]&&ue(s);return{c(){e=D("div"),u&&u.c(),t=N(),z(l.$$.fragment),o=N(),c&&c.c(),f=N(),p&&p.c(),m=ee(),this.h()},l(i){e=P(i,"DIV",{class:!0,tabindex:!0,role:!0});var d=T(e);u&&u.l(d),t=U(d),B(l.$$.fragment,d),o=U(d),c&&c.l(d),d.forEach(w),f=U(i),p&&p.l(i),m=ee(),this.h()},h(){te(e,O),se(e,"svelte-abx6ep",!0)},m(i,d){F(i,e,d),u&&u.m(e,null),M(e,t),j(l,e,null),M(e,o),c&&c.m(e,null),s[19](e),F(i,f,d),p&&p.m(i,d),F(i,m,d),A=!0,h||(b=[Ae(a=Ne.call(null,e,(s[0]||s[2])&&s[9])),I(e,"keydown",R(s[11])),I(e,"click",R(s[8]))],h=!0)},p(i,[d]){var q;((q=i[4])==null?void 0:q.length)>0?u?u.p(i,d):(u=ie(i),u.c(),u.m(e,t)):u&&(u.d(1),u=null);const V={};d&5&&(V.showFocusOutline=i[0]||i[2]),d&16392&&(V.error=i[14].errors&&i[3]),d&1048578&&(V.$$scope={dirty:d,ctx:i}),l.$set(V),i[0]?c?(c.p(i,d),d&1&&y(c,1)):(c=ae(i),c.c(),y(c,1),c.m(e,null)):c&&(K(),v(c,1,1,()=>{c=null}),L()),te(e,O=Ie(E,[d&8192&&i[13],(!A||d&8192&&n!==(n=`aura-dropdown ${i[13].class}`))&&{class:n},{tabindex:"-1"},{role:"button"}])),a&&Ee(a.update)&&d&5&&a.update.call(null,(i[0]||i[2])&&i[9]),se(e,"svelte-abx6ep",!0),i[3]?p?(p.p(i,d),d&8&&y(p,1)):(p=ue(i),p.c(),y(p,1),p.m(m.parentNode,m)):p&&(K(),v(p,1,1,()=>{p=null}),L())},i(i){A||(y(l.$$.fragment,i),y(c),y(p),A=!0)},o(i){v(l.$$.fragment,i),v(c),v(p),A=!1},d(i){i&&(w(e),w(f),w(m)),u&&u.d(),H(l),c&&c.d(),s[19](null),p&&p.d(i),h=!1,ce(b)}}}function je(s,e,t){let l,o;const n=["isOpen","isFocused","showErrors","name","currentValue"];let a=Y(e,n),{$$slots:f={},$$scope:m}=e;const A=Fe(f),h=Se();let{isOpen:b=!1}=e,{isFocused:u=!1}=e,{showErrors:c=!1}=e,{name:E}=e,{currentValue:O}=e,p,_;const i=()=>{t(0,b=!b)},d=()=>{t(0,b=!1),t(2,u=!1)},V=()=>{t(2,u=!0)},q=r=>r.getAttribute("value")??r.value??r.textContent,pe=r=>{const k=o.find(g=>r.composedPath().includes(g));if(k.tagName==="AURA-OPTION"){const g=q(k);e.currentValue||t(1,O=g),h("change",{value:g})}},me=async r=>{t(0,b=!0),await Ue(".aura-menu"),X(r)},_e=r=>{r.preventDefault();let k=_.querySelector("aura-option[aria-selected] + aura-option");k||(k=_.querySelector("aura-option:first-of-type")),k.click()},he=r=>{r.preventDefault();let k=_.querySelector("aura-option:has( + aura-option[aria-selected])");k||(k=_.querySelector("aura-option:last-of-type")),k.click()},X=async r=>{r.code==="Escape"||r.code==="Tab"?d():!b&&(r.code==="ArrowDown"||r.code==="ArrowUp")?await me(r):r.code==="ArrowDown"?_e(r):r.code==="ArrowUp"&&he(r)},be=r=>{pe(r),r.pointerId!==-1&&d()};function ye(){O=this.value,t(1,O)}function ke(r){$[r?"unshift":"push"](()=>{_=r,t(6,_)})}function ge(r){$[r?"unshift":"push"](()=>{p=r,t(5,p)})}return s.$$set=r=>{t(27,e=C(C({},e),Z(r))),t(13,a=Y(e,n)),"isOpen"in r&&t(0,b=r.isOpen),"isFocused"in r&&t(2,u=r.isFocused),"showErrors"in r&&t(3,c=r.showErrors),"name"in r&&t(4,E=r.name),"currentValue"in r&&t(1,O=r.currentValue),"$$scope"in r&&t(20,m=r.$$scope)},s.$$.update=()=>{var r,k;if(s.$$.dirty&33&&t(7,l=b!==void 0&&(p==null?void 0:p.getBoundingClientRect().width)||0),s.$$.dirty&64&&t(15,o=Array.from(((k=(r=_==null?void 0:_.querySelector(".aura-menu slot"))==null?void 0:r.assignedElements())==null?void 0:k.filter(g=>["AURA-OPTION"].includes(g.tagName)))??(_==null?void 0:_.querySelectorAll(".aura-menu > :is(aura-option)"))??[])),s.$$.dirty&32770)for(const g of o)g.setAttribute("tabindex","0"),g.tagName==="AURA-OPTION"&&(g.setAttribute("role","option"),O===q(g)?g.setAttribute("aria-selected",""):g.removeAttribute("aria-selected"))},e=Z(e),[b,O,u,c,E,p,_,l,i,d,V,X,be,a,A,o,f,ye,ke,ge,m]}class He extends we{constructor(e){super(),ve(this,e,je,Be,Oe,{isOpen:0,isFocused:2,showErrors:3,name:4,currentValue:1})}}He.__docgen={version:3,name:"dropdown.svelte",data:[{visibility:"public",description:null,keywords:[],name:"isOpen",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{visibility:"public",description:null,keywords:[],name:"isFocused",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{visibility:"public",description:null,keywords:[],name:"showErrors",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{visibility:"public",description:null,keywords:[],name:"name",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}},{visibility:"public",description:null,keywords:[],name:"currentValue",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"},bind:[{source:"input",property:"value"}]}],computed:[],methods:[],components:[],description:null,keywords:[],events:[{visibility:"public",description:null,keywords:[],name:"change"}],slots:[{keywords:[],visibility:"public",description:"",name:"placeholder"},{keywords:[],visibility:"public",description:"",name:"default"},{keywords:[],visibility:"public",description:"",name:"errors"}],refs:[]};export{He as D};
