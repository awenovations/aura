import{S as Ie,i as Se,s as De,p as Q,q as Pe,e as X,c as Z,a as x,m as $,y as Ne,t as k,g as M,b as v,f as R,r as We,z as Ue,d as ee,x as ye,v as le,h as Te,j as ie,k as j,u as H,l as G,o as J,n as se}from"./index-C5DZbSfd.js";import{e as P,s as U,v as re,f as N,g as L,c as T,d as w,q as ne,r as oe,i as F,j as z,w as D,y as Y,x as Le,m as A,z as ae,h as ue,t as ke,a as ge,b as Be}from"./lifecycle-D41BJhRp.js";import{g as Ce}from"./spread-CgU5AtxT.js";import{c as fe}from"./index-DUolvyrz.js";import{I as Ke}from"./icon-xVS0pies.js";import{F as Me}from"./float-rz0ZysFA.js";import{F as Re,v as ze}from"./form-item-D5ZEweZN.js";function je(l,e){let t;const r=i=>{t&&document.removeEventListener("click",t),t=s=>{s.composedPath().includes(l)||i&&i(s)},document.addEventListener("click",t)};return r(e),{destroy(){document.removeEventListener("click",t)},update(i){r(i)}}}function He(l){return new Promise(e=>{if(document.querySelector(l))return e(document.querySelector(l));const t=new MutationObserver(()=>{document.querySelector(l)&&(t.disconnect(),e(document.querySelector(l)))});t.observe(document.body,{childList:!0,subtree:!0})})}const Ge=l=>({}),ce=l=>({}),Je=l=>({}),de=l=>({}),Qe=l=>({}),me=l=>({});function pe(l){let e,t;const r=l[20].label,i=j(r,l,l[25],me);return{c(){e=P("label"),i&&i.c(),this.h()},l(s){e=N(s,"LABEL",{for:!0,class:!0});var a=L(e);i&&i.l(a),a.forEach(w),this.h()},h(){A(e,"for",l[4]),A(e,"class","label")},m(s,a){F(s,e,a),i&&i.m(e,null),t=!0},p(s,a){i&&i.p&&(!t||a[0]&33554432)&&H(i,r,s,s[25],t?J(r,s[25],a,Qe):G(s[25]),me),(!t||a[0]&16)&&A(e,"for",s[4])},i(s){t||(k(i,s),t=!0)},o(s){v(i,s),t=!1},d(s){s&&w(e),i&&i.d(s)}}}function _e(l){let e,t,r;return{c(){e=P("input"),this.h()},l(i){e=N(i,"INPUT",{name:!0,type:!0}),this.h()},h(){A(e,"name",l[6]),A(e,"type","hidden")},m(i,s){F(i,e,s),ae(e,l[1]),t||(r=D(e,"input",l[21]),t=!0)},p(i,s){s[0]&64&&A(e,"name",i[6]),s[0]&2&&ae(e,i[1])},d(i){i&&w(e),t=!1,r()}}}function Xe(l){let e;const t=l[20].placeholder,r=j(t,l,l[25],de),i=r||Ze();return{c(){i&&i.c()},l(s){i&&i.l(s)},m(s,a){i&&i.m(s,a),e=!0},p(s,a){r&&r.p&&(!e||a[0]&33554432)&&H(r,t,s,s[25],e?J(t,s[25],a,Je):G(s[25]),de)},i(s){e||(k(i,s),e=!0)},o(s){v(i,s),e=!1},d(s){i&&i.d(s)}}}function Ye(l){let e;return{c(){e=ke(l[1])},l(t){e=ge(t,l[1])},m(t,r){F(t,e,r)},p(t,r){r[0]&2&&Be(e,t[1])},i:se,o:se,d(t){t&&w(e)}}}function Ze(l){let e;return{c(){e=ke("select...")},l(t){e=ge(t,"select...")},m(t,r){F(t,e,r)},d(t){t&&w(e)}}}function xe(l){let e,t,r,i,s,a,d,b;const I=[Ye,Xe],g=[];function E(f,_){return f[1]?0:1}return t=E(l),r=g[t]=I[t](l),s=new Ke({props:{name:"caret-down",size:"small"}}),{c(){e=P("button"),r.c(),i=U(),Z(s.$$.fragment),this.h()},l(f){e=N(f,"BUTTON",{id:!0,class:!0});var _=L(e);r.l(_),i=T(_),x(s.$$.fragment,_),_.forEach(w),this.h()},h(){A(e,"id",l[4]),A(e,"class","trigger svelte-r8r3m0")},m(f,_){F(f,e,_),g[t].m(e,null),z(e,i),$(s,e,null),a=!0,d||(b=D(e,"focus",l[14]),d=!0)},p(f,_){let c=t;t=E(f),t===c?g[t].p(f,_):(M(),v(g[c],1,1,()=>{g[c]=null}),R(),r=g[t],r?r.p(f,_):(r=g[t]=I[t](f),r.c()),k(r,1),r.m(e,i)),(!a||_[0]&16)&&A(e,"id",f[4])},i(f){a||(k(r),k(s.$$.fragment,f),a=!0)},o(f){v(r),v(s.$$.fragment,f),a=!1},d(f){f&&w(e),g[t].d(),ee(s),d=!1,b()}}}function be(l){let e,t;return e=new Me({props:{target:l[8],$$slots:{default:[$e]},$$scope:{ctx:l}}}),{c(){Z(e.$$.fragment)},l(r){x(e.$$.fragment,r)},m(r,i){$(e,r,i),t=!0},p(r,i){const s={};i[0]&256&&(s.target=r[8]),i[0]&33556992&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(k(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){ee(e,r)}}}function $e(l){let e,t,r,i;const s=l[20].default,a=j(s,l,l[25],null);return{c(){e=P("div"),a&&a.c(),this.h()},l(d){e=N(d,"DIV",{role:!0,tabindex:!0,class:!0});var b=L(e);a&&a.l(b),b.forEach(w),this.h()},h(){A(e,"role","menu"),A(e,"tabindex","-1"),A(e,"class","aura-menu svelte-r8r3m0"),ue(e,"--aura-menu-control-width",`${l[11]}px`)},m(d,b){F(d,e,b),a&&a.m(e,null),l[23](e),t=!0,r||(i=[D(e,"keypress",l[15]),D(e,"click",Y(l[16]))],r=!0)},p(d,b){a&&a.p&&(!t||b[0]&33554432)&&H(a,s,d,d[25],t?J(s,d[25],b,null):G(d[25]),null),b[0]&2048&&ue(e,"--aura-menu-control-width",`${d[11]}px`)},i(d){t||(k(a,d),t=!0)},o(d){v(a,d),t=!1},d(d){d&&w(e),a&&a.d(d),l[23](null),r=!1,ye(i)}}}function he(l){let e,t;const r=l[20].errors,i=j(r,l,l[25],ce);return{c(){e=P("div"),i&&i.c(),this.h()},l(s){e=N(s,"DIV",{class:!0});var a=L(e);i&&i.l(a),a.forEach(w),this.h()},h(){A(e,"class","errors-text svelte-r8r3m0")},m(s,a){F(s,e,a),i&&i.m(e,null),t=!0},p(s,a){i&&i.p&&(!t||a[0]&33554432)&&H(i,r,s,s[25],t?J(r,s[25],a,Ge):G(s[25]),ce)},i(s){t||(k(i,s),t=!0)},o(s){v(i,s),t=!1},d(s){s&&w(e),i&&i.d(s)}}}function et(l){var C;let e,t,r,i,s,a,d,b,I,g,E,f,_,c=l[18].label&&pe(l),h=((C=l[6])==null?void 0:C.length)>0&&_e(l);function B(o){l[22](o)}let W={showFocusOutline:l[0]||l[3],error:(l[18].errors||l[10])&&l[5],$$slots:{default:[xe]},$$scope:{ctx:l}};l[2]!==void 0&&(W.required=l[2]),i=new Re({props:W}),Q.push(()=>Pe(i,"required",B));let m=l[0]&&be(l),V=[l[17],{class:d=fe(`aura-dropdown ${l[17].class}`,{fullWidth:l[7]})},{tabindex:"-1"},{role:"button"}],y={};for(let o=0;o<V.length;o+=1)y=X(y,V[o]);let p=l[5]&&he(l);return{c(){e=P("div"),c&&c.c(),t=U(),h&&h.c(),r=U(),Z(i.$$.fragment),a=U(),m&&m.c(),I=U(),p&&p.c(),g=re(),this.h()},l(o){e=N(o,"DIV",{class:!0,tabindex:!0,role:!0});var u=L(e);c&&c.l(u),t=T(u),h&&h.l(u),r=T(u),x(i.$$.fragment,u),a=T(u),m&&m.l(u),u.forEach(w),I=T(o),p&&p.l(o),g=re(),this.h()},h(){ne(e,y),oe(e,"svelte-r8r3m0",!0)},m(o,u){F(o,e,u),c&&c.m(e,null),z(e,t),h&&h.m(e,null),z(e,r),$(i,e,null),z(e,a),m&&m.m(e,null),l[24](e),F(o,I,u),p&&p.m(o,u),F(o,g,u),E=!0,f||(_=[Ne(b=je.call(null,e,(l[0]||l[3])&&l[13])),D(e,"keydown",Y(l[15])),D(e,"click",Y(l[12]))],f=!0)},p(o,u){var K;o[18].label?c?(c.p(o,u),u[0]&262144&&k(c,1)):(c=pe(o),c.c(),k(c,1),c.m(e,t)):c&&(M(),v(c,1,1,()=>{c=null}),R()),((K=o[6])==null?void 0:K.length)>0?h?h.p(o,u):(h=_e(o),h.c(),h.m(e,r)):h&&(h.d(1),h=null);const S={};u[0]&9&&(S.showFocusOutline=o[0]||o[3]),u[0]&263200&&(S.error=(o[18].errors||o[10])&&o[5]),u[0]&33554450&&(S.$$scope={dirty:u,ctx:o}),!s&&u[0]&4&&(s=!0,S.required=o[2],We(()=>s=!1)),i.$set(S),o[0]?m?(m.p(o,u),u[0]&1&&k(m,1)):(m=be(o),m.c(),k(m,1),m.m(e,null)):m&&(M(),v(m,1,1,()=>{m=null}),R()),ne(e,y=Ce(V,[u[0]&131072&&o[17],(!E||u[0]&131200&&d!==(d=fe(`aura-dropdown ${o[17].class}`,{fullWidth:o[7]})))&&{class:d},{tabindex:"-1"},{role:"button"}])),b&&Ue(b.update)&&u[0]&9&&b.update.call(null,(o[0]||o[3])&&o[13]),oe(e,"svelte-r8r3m0",!0),o[5]?p?(p.p(o,u),u[0]&32&&k(p,1)):(p=he(o),p.c(),k(p,1),p.m(g.parentNode,g)):p&&(M(),v(p,1,1,()=>{p=null}),R())},i(o){E||(k(c),k(i.$$.fragment,o),k(m),k(p),E=!0)},o(o){v(c),v(i.$$.fragment,o),v(m),v(p),E=!1},d(o){o&&(w(e),w(I),w(g)),c&&c.d(),h&&h.d(),ee(i),m&&m.d(),l[24](null),p&&p.d(o),f=!1,ye(_)}}}function tt(l,e,t){let r,i;const s=["id","isOpen","required","isFocused","showErrors","name","fullWidth","currentValue"];let a=le(e,s),{$$slots:d={},$$scope:b}=e;const I=Te(d),g=Le();let{id:E=ze()}=e,{isOpen:f=!1}=e,{required:_=!1}=e,{isFocused:c=!1}=e,{showErrors:h=!1}=e,{name:B}=e,{fullWidth:W=!1}=e,{currentValue:m}=e,V,y,p=!1;const C=()=>{t(0,f=!f)},o=()=>{t(0,f=!1),t(3,c=!1)},u=()=>{t(3,c=!0)},S=n=>n.getAttribute("value")??n.value??n.textContent,K=n=>{const q=i.find(O=>n.composedPath().includes(O));if(q.tagName==="AURA-OPTION"){const O=S(q);e.currentValue||t(1,m=O),t(10,p=_&&!m),g("change",{value:O})}},ve=async n=>{t(0,f=!0),await He(".aura-menu"),te(n)},we=n=>{n.preventDefault();let q=y.querySelector("aura-option[aria-selected] + aura-option");q||(q=y.querySelector("aura-option:first-of-type")),q.click()},qe=n=>{n.preventDefault();let q=y.querySelector("aura-option:has( + aura-option[aria-selected])");q||(q=y.querySelector("aura-option:last-of-type")),q.click()},te=async n=>{n.code==="Escape"||n.code==="Tab"?o():!f&&(n.code==="ArrowDown"||n.code==="ArrowUp")?await ve(n):n.code==="ArrowDown"?we(n):n.code==="ArrowUp"&&qe(n)},Oe=n=>{K(n),n.pointerId!==-1&&o()};function Ae(){m=this.value,t(1,m)}function Ee(n){_=n,t(2,_)}function Ve(n){Q[n?"unshift":"push"](()=>{y=n,t(9,y)})}function Fe(n){Q[n?"unshift":"push"](()=>{V=n,t(8,V)})}return l.$$set=n=>{t(32,e=X(X({},e),ie(n))),t(17,a=le(e,s)),"id"in n&&t(4,E=n.id),"isOpen"in n&&t(0,f=n.isOpen),"required"in n&&t(2,_=n.required),"isFocused"in n&&t(3,c=n.isFocused),"showErrors"in n&&t(5,h=n.showErrors),"name"in n&&t(6,B=n.name),"fullWidth"in n&&t(7,W=n.fullWidth),"currentValue"in n&&t(1,m=n.currentValue),"$$scope"in n&&t(25,b=n.$$scope)},l.$$.update=()=>{var n,q;if(l.$$.dirty[0]&257&&t(11,r=f!==void 0&&(V==null?void 0:V.getBoundingClientRect().width)||0),l.$$.dirty[0]&512&&t(19,i=Array.from(((q=(n=y==null?void 0:y.querySelector(".aura-menu slot"))==null?void 0:n.assignedElements())==null?void 0:q.filter(O=>["AURA-OPTION"].includes(O.tagName)))??(y==null?void 0:y.querySelectorAll(".aura-menu > :is(aura-option)"))??[])),l.$$.dirty[0]&524290)for(const O of i)O.setAttribute("tabindex","0"),O.tagName==="AURA-OPTION"&&(O.setAttribute("role","option"),m===S(O)?O.setAttribute("aria-selected",""):O.removeAttribute("aria-selected"))},e=ie(e),[f,m,_,c,E,h,B,W,V,y,p,r,C,o,u,te,Oe,a,I,i,d,Ae,Ee,Ve,Fe,b]}class lt extends Ie{constructor(e){super(),Se(this,e,tt,et,De,{id:4,isOpen:0,required:2,isFocused:3,showErrors:5,name:6,fullWidth:7,currentValue:1},null,[-1,-1])}}lt.__docgen={version:3,name:"dropdown.svelte",data:[{visibility:"public",description:null,keywords:[],name:"id",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}},{visibility:"public",description:null,keywords:[],name:"isOpen",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{visibility:"public",description:null,keywords:[],name:"required",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1,bind:[{source:"FormItem",property:"required"}]},{visibility:"public",description:null,keywords:[],name:"isFocused",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{visibility:"public",description:null,keywords:[],name:"showErrors",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{visibility:"public",description:null,keywords:[],name:"name",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}},{visibility:"public",description:null,keywords:[],name:"fullWidth",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{visibility:"public",description:null,keywords:[],name:"currentValue",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"},bind:[{source:"input",property:"value"}]}],computed:[],methods:[],components:[],description:null,keywords:[],events:[{visibility:"public",description:null,keywords:[],name:"change"}],slots:[{keywords:[],visibility:"public",description:"",name:"label"},{keywords:[],visibility:"public",description:"",name:"placeholder"},{keywords:[],visibility:"public",description:"",name:"default"},{keywords:[],visibility:"public",description:"",name:"errors"}],refs:[]};export{lt as D};
