import{c as v,a as g,t as V}from"./template-Dutn6tew.js";import{D as ye,aa as me,F as de,n as pe,R as _e,$ as W,ai as R,ar as ee,_ as te,as as I,g as h,b as U,p as J,u as G,at as z,f as d,a as Z,s as H}from"./context-kYMOf6HF.js";import{p as ve,r as xe,g as O,t as k,s as Q,u as Se,v as Ce}from"./props-DrYEKqSu.js";import{y as be,g as $}from"./index-DxHf6ONh.js";function D(t,e,...r){var a=t,n=pe,i;ye(()=>{n!==(n=e())&&(i&&(_e(i),i=null),i=de(()=>n(a,...r)))},me)}var Ee=Object.create,re=Object.defineProperty,Oe=Object.getOwnPropertyDescriptor,he=Object.getOwnPropertyNames,Ae=Object.getPrototypeOf,Ne=Object.prototype.hasOwnProperty,we=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Re=(t,e,r,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of he(e))!Ne.call(t,n)&&n!==r&&re(t,n,{get:()=>e[n],enumerable:!(a=Oe(e,n))||a.enumerable});return t},Te=(t,e,r)=>(r=t!=null?Ee(Ae(t)):{},Re(!t||!t.__esModule?re(r,"default",{value:t,enumerable:!0}):r,t)),je=we(t=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isEqual=function(){var e=Object.prototype.toString,r=Object.getPrototypeOf,a=Object.getOwnPropertySymbols?function(n){return Object.keys(n).concat(Object.getOwnPropertySymbols(n))}:Object.keys;return function(n,i){return function s(o,c,u){var p,E,f,j=e.call(o),l=e.call(c);if(o===c)return!0;if(o==null||c==null)return!1;if(u.indexOf(o)>-1&&u.indexOf(c)>-1)return!0;if(u.push(o,c),j!=l||(p=a(o),E=a(c),p.length!=E.length||p.some(function(_){return!s(o[_],c[_],u)})))return!1;switch(j.slice(8,-1)){case"Symbol":return o.valueOf()==c.valueOf();case"Date":case"Number":return+o==+c||+o!=+o&&+c!=+c;case"RegExp":case"Function":case"String":case"Boolean":return""+o==""+c;case"Set":case"Map":p=o.entries(),E=c.entries();do if(!s((f=p.next()).value,E.next().value,u))return!1;while(!f.done);return!0;case"ArrayBuffer":o=new Uint8Array(o),c=new Uint8Array(c);case"DataView":o=new Uint8Array(o.buffer),c=new Uint8Array(c.buffer);case"Float32Array":case"Float64Array":case"Int8Array":case"Int16Array":case"Int32Array":case"Uint8Array":case"Uint16Array":case"Uint32Array":case"Uint8ClampedArray":case"Arguments":case"Array":if(o.length!=c.length)return!1;for(f=0;f<o.length;f++)if((f in o||f in c)&&(f in o!=f in c||!s(o[f],c[f],u)))return!1;return!0;case"Object":return s(r(o),r(c),u);default:return!1}}(n,i,[])}}()});Te(je());var Fe=t=>t.toLowerCase().replace(/[ ’–—―′¿'`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"-").replace(/-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");const Pe=t=>t.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(""),Ie=t=>Fe(t.replace(/([A-Z])/g," $1").trim()),ne=t=>Pe(Ie(t)),M="storybook-stories-extractor-context";function ae(t){let e=R(t.isExtracting),r=R(t.register);return{get isExtracting(){return e},get register(){return r}}}function Ue(t){const{stories:e}=t,r=ae({isExtracting:!0,register:a=>{e.set(a.exportName??ne(a.name),a)}});W(M,r)}function De(){return ee(M)||W(M,ae({isExtracting:!1,register:()=>{}})),te(M)}const K="storybook-story-renderer-context";function Me(t){let e=I(R(t.currentStoryExportName)),r=I(R(t.args)),a=I(R(t.storyContext)),n=I(R(t.metaRenderSnippet));function i(s){U(e,s.currentStoryExportName,!0),U(r,s.args,!0),U(a,s.storyContext,!0),U(n,s.metaRenderSnippet,!0)}return{get args(){return h(r)},get storyContext(){return h(a)},get currentStoryExportName(){return h(e)},get metaRenderSnippet(){return h(n)},set:i}}function ke(){const t=Me({currentStoryExportName:void 0,args:{},storyContext:{}});W(K,t)}function oe(){return ee(K)||ke(),te(K)}const Le="svelte-csf",Be=`${Le}-v4`;var Ye=V(" <!>",1),Xe=V(" <!>",1),qe=V('<p>No story rendered. See <a href="https://github.com/storybookjs/addon-svelte-csf#defining-stories" target="_blank">the docs</a> on how to define stories.</p>');function Ge(t,e){J(e,!0);let r=ve(e,"asChild",3,!1),a=xe(e,["$$slots","$$events","$$legacy","children","name","exportName","play","template","asChild"]);const n=e.exportName??ne(e.name);let i=De(),s=oe(),o=z(()=>!i.isExtracting&&s.currentStoryExportName===n);i.isExtracting&&i.register({children:e.children,name:e.name,exportName:n,play:e.play,...a});function c(l,_){_&&l.playFunction&&(l.playFunction.__play=_)}function u(l){return typeof l=="function"}G(()=>{h(o)&&c(s.storyContext,e.play)});const p=z(()=>{var l;return((l=s.storyContext.tags)==null?void 0:l.some(_=>_===Be))??!1});var E=v(),f=d(E);{var j=l=>{var _=v(),ce=d(_);{var ue=A=>{var F=v(),L=d(F);D(L,()=>e.template,()=>s.args,()=>s.storyContext),g(A,F)},fe=(A,F)=>{{var L=N=>{var P=v(),B=d(P);{var Y=y=>{var S=v(),T=d(S);D(T,()=>e.children),g(y,S)},x=(y,S)=>{{var T=m=>{var b=Ye(),w=d(b);w.nodeValue=" ";var X=H(w);k(X,()=>s.storyContext.component,(q,ge)=>{ge(q,Q(()=>s.args,{get children(){return e.children}}))}),g(m,b)},C=m=>{var b=v(),w=d(b);D(w,()=>e.children),g(m,b)};O(y,m=>{s.storyContext.component?m(T):m(C,!1)},S)}};O(B,y=>{r()||h(p)?y(Y):y(x,!1)})}g(N,P)},le=(N,P)=>{{var B=x=>{var y=v(),S=d(y);D(S,()=>s.metaRenderSnippet,()=>s.args,()=>s.storyContext),g(x,y)},Y=(x,y)=>{{var S=C=>{var m=Xe(),b=d(m);b.nodeValue=" ";var w=H(b);k(w,()=>s.storyContext.component,(X,q)=>{q(X,Q(()=>s.args))}),g(C,m)},T=C=>{var m=qe();g(C,m)};O(x,C=>{s.storyContext.component?C(S):C(T,!1)},y)}};O(N,x=>{s.metaRenderSnippet?x(B):x(Y,!1)},P)}};O(A,N=>{u(e.children)?N(L):N(le,!1)},F)}};O(ce,A=>{u(e.template)?A(ue):A(fe,!1)})}g(l,_)};O(f,l=>{h(o)&&l(j)})}g(t,E),Z()}function ut(t){return{Story:Ge}}function Ke(t,e){J(e,!0),Ue(e.repository());var r=v(),a=d(r);k(a,()=>e.Stories,(n,i)=>{i(n,{})}),g(t,r),Z()}function Ve(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}function We(t){var e;return typeof t=="string"||typeof t=="symbol"?t:Object.is((e=t==null?void 0:t.valueOf)==null?void 0:e.call(t),-0)?"-0":String(t)}function Je(t){const e=[],r=t.length;if(r===0)return e;let a=0,n="",i="",s=!1;for(t.charCodeAt(0)===46&&(e.push(""),a++);a<r;){const o=t[a];i?o==="\\"&&a+1<r?(a++,n+=t[a]):o===i?i="":n+=o:s?o==='"'||o==="'"?i=o:o==="]"?(s=!1,e.push(n),n=""):n+=o:o==="["?(s=!0,n&&(e.push(n),n="")):o==="."?n&&(e.push(n),n=""):n+=o,a++}return n&&e.push(n),e}function se(t,e,r){if(t==null)return r;switch(typeof e){case"string":{const a=t[e];return a===void 0?Ve(e)?se(t,Je(e),r):r:a}case"number":case"symbol":{typeof e=="number"&&(e=We(e));const a=t[e];return a===void 0?r:a}default:{if(Array.isArray(e))return Ze(t,e,r);Object.is(e==null?void 0:e.valueOf(),-0)?e="-0":e=String(e);const a=t[e];return a===void 0?r:a}}}function Ze(t,e,r){if(e.length===0)return r;let a=t;for(let n=0;n<e.length;n++){if(a==null)return r;a=a[e[n]]}return a===void 0?r:a}const{addons:ze}=__STORYBOOK_MODULE_PREVIEW_API__,He=ze.getChannel(),Qe=t=>{const{storyContext:e}=t;if($e(e))return;const r=et({code:e.parameters.__svelteCsf.rawCode,args:t.args});setTimeout(()=>{He.emit(be,{id:e.id,args:e.unmappedArgs,source:r})})},$e=t=>{var n;const e=(n=t==null?void 0:t.parameters.docs)==null?void 0:n.source,r=t==null?void 0:t.parameters.__isArgsStory;return(t==null?void 0:t.parameters.__svelteCsf.rawCode)?(e==null?void 0:e.type)===$.DYNAMIC?!1:!r||(e==null?void 0:e.code)||(e==null?void 0:e.type)===$.CODE:!0},et=({code:t,args:e})=>{const r=Object.entries(e??{}).map(([i,s])=>rt(i,s)).filter(i=>i);let a=r.join(" ");return a.length>50&&(a=`
  ${r.join(`
  `)}
`),t.replaceAll("{...args}",a).replace(/args(?:[\w\d_$.?[\]"'])+/g,i=>{const s=i.replaceAll("?",""),o=se({args:e},s);return ie(o)})},tt=t=>{var r;const e=((r=t.getMockName)==null?void 0:r.call(t))??t.name;return e&&e!=="spy"?e:"() => {}"},ie=t=>{var e;return typeof t=="object"&&t[Symbol.for("svelte.snippet")]?"snippet":typeof t=="function"?tt(t):(e=JSON.stringify(t,null,1))==null?void 0:e.replace(/\n/g,"").replace(new RegExp("(?<!\\s)([}\\]])$")," $1")},rt=(t,e)=>{if(e==null)return null;if(e===!0)return t;const r=ie(e);return typeof e=="string"?`${t}=${r}`:`${t}={${r}}`};function nt(t,e){J(e,!0);const r=oe();G(()=>{r.set({currentStoryExportName:e.exportName,args:e.args,storyContext:e.storyContext,metaRenderSnippet:e.metaRenderSnippet})}),G(()=>{Qe({args:e.args,storyContext:e.storyContext})});var a=v(),n=d(a);k(n,()=>e.Stories,(i,s)=>{s(i,{})}),g(t,a),Z()}const at=document.createDocumentFragment?()=>document.createDocumentFragment():()=>document.createElement("div"),ft=(t,e)=>{const r={stories:new Map};try{const n=Se(Ke,{target:at(),props:{Stories:t,repository:()=>r}});Ce(n)}catch(n){console.error(`Error in mounting stories ${n.toString()}`,n)}const a={};for(const[n,i]of r.stories){const s={...i,render:(c,u)=>({Component:nt,props:{exportName:n,Stories:t,storyContext:u,args:c,metaRenderSnippet:e.render}})},o=e.play??i.play;o&&(s.play=c=>{var p;const u=(p=c.playFunction)==null?void 0:p.__play;return u?u(c):o(c)}),a[n]=s}return e.parameters||(e.parameters={}),e.parameters.controls||(e.parameters.controls={}),e.parameters.controls.disableSaveFromUI=!0,a};export{ft as c,ut as d};
