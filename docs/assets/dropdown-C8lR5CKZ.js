import{S as de,i as me,s as pe,e as F,c as q,a as V,m as E,y as _e,t as y,g as W,b as g,f as G,z as he,d as I,w as J,v as C,j as K,k as Q,u as X,l as Y,o as Z,p as L,n as M}from"./index-NJt023ZH.js";import{e as D,s as $,f as P,g as N,c as x,d as k,q as R,r as B,i as O,j as ee,w,y as S,x as be,m as v,h as j,t as te,a as se,b as ye}from"./lifecycle-BlJB78Bc.js";import{g as ge}from"./spread-CgU5AtxT.js";import{I as ke}from"./icon-DDtBIZCk.js";import{F as we}from"./float-DrEaqgkl.js";import{F as Oe}from"./form-item-BIc6HSZn.js";function ve(s,e){let t;const n=a=>{t&&document.removeEventListener("click",t),t=r=>{r.composedPath().includes(s)||a&&a(r)},document.addEventListener("click",t)};return n(e),{destroy(){document.removeEventListener("click",t)},update(a){n(a)}}}function Ae(s){return new Promise(e=>{if(document.querySelector(s))return e(document.querySelector(s));const t=new MutationObserver(()=>{document.querySelector(s)&&(t.disconnect(),e(document.querySelector(s)))});t.observe(document.body,{childList:!0,subtree:!0})})}const Fe=s=>({}),z=s=>({});function Se(s){let e;const t=s[13].placeholder,n=Q(t,s,s[16],z),a=n||Ve();return{c(){a&&a.c()},l(r){a&&a.l(r)},m(r,i){a&&a.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&65536)&&X(n,t,r,r[16],e?Z(t,r[16],i,Fe):Y(r[16]),z)},i(r){e||(y(a,r),e=!0)},o(r){g(a,r),e=!1},d(r){a&&a.d(r)}}}function qe(s){let e;return{c(){e=te(s[1])},l(t){e=se(t,s[1])},m(t,n){O(t,e,n)},p(t,n){n&2&&ye(e,t[1])},i:M,o:M,d(t){t&&k(e)}}}function Ve(s){let e;return{c(){e=te("select...")},l(t){e=se(t,"select...")},m(t,n){O(t,e,n)},d(t){t&&k(e)}}}function Ee(s){let e,t,n,a,r,i,c,p;const f=[qe,Se],d=[];function b(l,u){return l[1]?0:1}return t=b(s),n=d[t]=f[t](s),r=new ke({props:{name:"caret-down",size:"small"}}),{c(){e=D("button"),n.c(),a=$(),q(r.$$.fragment),this.h()},l(l){e=P(l,"BUTTON",{class:!0});var u=N(e);n.l(u),a=x(u),V(r.$$.fragment,u),u.forEach(k),this.h()},h(){v(e,"class","trigger svelte-111kmdh")},m(l,u){O(l,e,u),d[t].m(e,null),ee(e,a),E(r,e,null),i=!0,c||(p=w(e,"focus",s[8]),c=!0)},p(l,u){let m=t;t=b(l),t===m?d[t].p(l,u):(W(),g(d[m],1,1,()=>{d[m]=null}),G(),n=d[t],n?n.p(l,u):(n=d[t]=f[t](l),n.c()),y(n,1),n.m(e,a))},i(l){i||(y(n),y(r.$$.fragment,l),i=!0)},o(l){g(n),g(r.$$.fragment,l),i=!1},d(l){l&&k(e),d[t].d(),I(r),c=!1,p()}}}function H(s){let e,t;return e=new we({props:{target:s[3],$$slots:{default:[Ie]},$$scope:{ctx:s}}}),{c(){q(e.$$.fragment)},l(n){V(e.$$.fragment,n)},m(n,a){E(e,n,a),t=!0},p(n,a){const r={};a&8&&(r.target=n[3]),a&65584&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ie(s){let e,t,n,a;const r=s[13].default,i=Q(r,s,s[16],null);return{c(){e=D("div"),i&&i.c(),this.h()},l(c){e=P(c,"DIV",{role:!0,tabindex:!0,class:!0});var p=N(e);i&&i.l(p),p.forEach(k),this.h()},h(){v(e,"role","menu"),v(e,"tabindex","-1"),v(e,"class","aura-menu svelte-111kmdh"),j(e,"--aura-menu-control-width",`${s[5]}px`)},m(c,p){O(c,e,p),i&&i.m(e,null),s[14](e),t=!0,n||(a=[w(e,"keypress",s[9]),w(e,"click",S(s[10]))],n=!0)},p(c,p){i&&i.p&&(!t||p&65536)&&X(i,r,c,c[16],t?Z(r,c[16],p,null):Y(c[16]),null),p&32&&j(e,"--aura-menu-control-width",`${c[5]}px`)},i(c){t||(y(i,c),t=!0)},o(c){g(i,c),t=!1},d(c){c&&k(e),i&&i.d(c),s[14](null),n=!1,J(a)}}}function De(s){let e,t,n,a,r,i,c,p;t=new Oe({props:{showFocusOutline:s[0]||s[2],$$slots:{default:[Ee]},$$scope:{ctx:s}}});let f=s[0]&&H(s),d=[s[11],{class:a=`aura-dropdown ${s[11].class}`},{tabindex:"-1"},{role:"button"}],b={};for(let l=0;l<d.length;l+=1)b=F(b,d[l]);return{c(){e=D("div"),q(t.$$.fragment),n=$(),f&&f.c(),this.h()},l(l){e=P(l,"DIV",{class:!0,tabindex:!0,role:!0});var u=N(e);V(t.$$.fragment,u),n=x(u),f&&f.l(u),u.forEach(k),this.h()},h(){R(e,b),B(e,"svelte-111kmdh",!0)},m(l,u){O(l,e,u),E(t,e,null),ee(e,n),f&&f.m(e,null),s[15](e),i=!0,c||(p=[_e(r=ve.call(null,e,(s[0]||s[2])&&s[7])),w(e,"keydown",S(s[9])),w(e,"click",S(s[6]))],c=!0)},p(l,[u]){const m={};u&5&&(m.showFocusOutline=l[0]||l[2]),u&65538&&(m.$$scope={dirty:u,ctx:l}),t.$set(m),l[0]?f?(f.p(l,u),u&1&&y(f,1)):(f=H(l),f.c(),y(f,1),f.m(e,null)):f&&(W(),g(f,1,1,()=>{f=null}),G()),R(e,b=ge(d,[u&2048&&l[11],(!i||u&2048&&a!==(a=`aura-dropdown ${l[11].class}`))&&{class:a},{tabindex:"-1"},{role:"button"}])),r&&he(r.update)&&u&5&&r.update.call(null,(l[0]||l[2])&&l[7]),B(e,"svelte-111kmdh",!0)},i(l){i||(y(t.$$.fragment,l),y(f),i=!0)},o(l){g(t.$$.fragment,l),g(f),i=!1},d(l){l&&k(e),I(t),f&&f.d(),s[15](null),c=!1,J(p)}}}function Pe(s,e,t){let n,a;const r=["isOpen","isFocused","currentValue"];let i=C(e,r),{$$slots:c={},$$scope:p}=e;const f=be();let{isOpen:d=!1}=e,{isFocused:b=!1}=e,{currentValue:l}=e,u,m;const ne=()=>{t(0,d=!d)},A=()=>{t(0,d=!1),t(2,b=!1)},le=()=>{t(2,b=!0)},U=o=>o.getAttribute("value")??o.value??o.textContent,oe=o=>{const _=a.find(h=>o.composedPath().includes(h));if(_.tagName==="AURA-OPTION"){const h=U(_);e.currentValue||t(1,l=h),f("change",{value:h})}},re=async o=>{t(0,d=!0),await Ae(".aura-menu"),T(o)},ae=o=>{o.preventDefault();let _=m.querySelector("aura-option[aria-selected] + aura-option");_||(_=m.querySelector("aura-option:first-of-type")),_.click()},ie=o=>{o.preventDefault();let _=m.querySelector("aura-option:has( + aura-option[aria-selected])");_||(_=m.querySelector("aura-option:last-of-type")),_.click()},T=async o=>{o.code==="Escape"||o.code==="Tab"?A():!d&&(o.code==="ArrowDown"||o.code==="ArrowUp")?await re(o):o.code==="ArrowDown"?ae(o):o.code==="ArrowUp"&&ie(o)},ue=o=>{oe(o),o.pointerId!==-1&&A()};function ce(o){L[o?"unshift":"push"](()=>{m=o,t(4,m)})}function fe(o){L[o?"unshift":"push"](()=>{u=o,t(3,u)})}return s.$$set=o=>{t(23,e=F(F({},e),K(o))),t(11,i=C(e,r)),"isOpen"in o&&t(0,d=o.isOpen),"isFocused"in o&&t(2,b=o.isFocused),"currentValue"in o&&t(1,l=o.currentValue),"$$scope"in o&&t(16,p=o.$$scope)},s.$$.update=()=>{var o,_;if(s.$$.dirty&9&&t(5,n=d!==void 0&&(u==null?void 0:u.getBoundingClientRect().width)||0),s.$$.dirty&16&&t(12,a=Array.from(((_=(o=m==null?void 0:m.querySelector(".aura-menu slot"))==null?void 0:o.assignedElements())==null?void 0:_.filter(h=>["AURA-OPTION"].includes(h.tagName)))??(m==null?void 0:m.querySelectorAll(".aura-menu > :is(aura-option)"))??[])),s.$$.dirty&4098)for(const h of a)h.setAttribute("tabindex","0"),h.tagName==="AURA-OPTION"&&(h.setAttribute("role","option"),l===U(h)?h.setAttribute("aria-selected",""):h.removeAttribute("aria-selected"))},e=K(e),[d,l,b,u,m,n,ne,A,le,T,ue,i,a,c,ce,fe,p]}class Ne extends de{constructor(e){super(),me(this,e,Pe,De,pe,{isOpen:0,isFocused:2,currentValue:1})}}Ne.__docgen={version:3,name:"dropdown.svelte",data:[{visibility:"public",description:null,keywords:[],name:"isOpen",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{visibility:"public",description:null,keywords:[],name:"isFocused",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"boolean",type:"boolean"},defaultValue:!1},{visibility:"public",description:null,keywords:[],name:"currentValue",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}}],computed:[],methods:[],components:[],description:null,keywords:[],events:[{visibility:"public",description:null,keywords:[],name:"change"}],slots:[{keywords:[],visibility:"public",description:"",name:"placeholder"},{keywords:[],visibility:"public",description:"",name:"default"}],refs:[]};export{Ne as D};
