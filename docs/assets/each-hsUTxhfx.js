import{C as q,D as B,g as A,d as F,E as H,F as R,G,I as k,H as N,v as M,J,m as K,K as m,i as L,M as O,O as P,P as Q,Q as S,R as X,T as z,U as W,V as Y}from"./context-kYMOf6HF.js";let Z=!1;function ae(l,e){return e}function $(l,e,n,u){for(var d=[],s=e.length,v=0;v<s;v++)P(e[v].e,d,!0);var h=s>0&&d.length===0&&n!==null;if(h){var o=n.parentNode;Q(o),o.append(n),u.clear(),E(l,e[0].prev,e[s-1].next)}S(d,()=>{for(var c=0;c<s;c++){var r=e[c];h||(u.delete(r.k),E(l,r.prev,r.next)),X(r.e,!h)}})}function le(l,e,n,u,d,s=null){var v=l,h={flags:e,items:new Map,first:null};{var o=l;v=o.appendChild(q())}var c=null,r=!1,_=F(()=>{var a=n();return L(a)?a:a==null?[]:N(a)});B(()=>{var a=A(_),t=a.length;r&&t===0||(r=t===0,j(a,h,v,d,e,u,n),s!==null&&(t===0?c?H(c):c=R(()=>s(v)):c!==null&&G(c,()=>{c=null})),A(_))})}function j(l,e,n,u,d,s,v){var h=l.length,o=e.items,c=e.first,r=c,_,a=null,t=[],i=[],y,x,f,p;for(p=0;p<h;p+=1){if(y=l[p],x=s(y,p),f=o.get(x),f===void 0){var V=r?r.e.nodes_start:n;a=re(V,e,a,a===null?e.first:a.next,y,x,p,u,d,v),o.set(x,a),t=[],i=[],r=a.next;continue}if(ee(f,y,p),f.e.f&k&&H(f.e),f!==r){if(_!==void 0&&_.has(f)){if(t.length<i.length){var I=i[0],g;a=I.prev;var w=t[0],C=t[t.length-1];for(g=0;g<t.length;g+=1)b(t[g],I,n);for(g=0;g<i.length;g+=1)_.delete(i[g]);E(e,w.prev,C.next),E(e,a,w),E(e,C,I),r=I,a=C,p-=1,t=[],i=[]}else _.delete(f),b(f,r,n),E(e,f.prev,f.next),E(e,f,a===null?e.first:a.next),E(e,a,f),a=f;continue}for(t=[],i=[];r!==null&&r.k!==x;)r.e.f&k||(_??(_=new Set)).add(r),i.push(r),r=r.next;if(r===null)continue;f=r}t.push(f),a=f,r=f.next}if(r!==null||_!==void 0){for(var T=_===void 0?[]:N(_);r!==null;)r.e.f&k||T.push(r),r=r.next;var D=T.length;if(D>0){var U=h===0?n:null;$(e,T,U,o)}}M.first=e.first&&e.first.e,M.last=a&&a.e}function ee(l,e,n,u){J(l.v,e),l.i=n}function re(l,e,n,u,d,s,v,h,o,c){var r=(o&W)!==0,_=(o&Y)===0,a=r?_?K(d):m(d):d,t=o&O?m(v):v,i={i:t,v:a,k:s,a:null,e:null,prev:n,next:u};try{return i.e=R(()=>h(l,a,t,c),Z),i.e.prev=n&&n.e,i.e.next=u&&u.e,n===null?e.first=i:(n.next=i,n.e.next=i.e),u!==null&&(u.prev=i,u.e.prev=i.e),i}finally{}}function b(l,e,n){for(var u=l.next?l.next.e.nodes_start:n,d=e?e.e.nodes_start:n,s=l.e.nodes_start;s!==u;){var v=z(s);d.before(s),s=v}}function E(l,e,n){e===null?l.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}export{le as e,ae as i};
