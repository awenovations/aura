import{w as V,x as q,g as M,d as z,y as H,z as N,A as F,I as C,B as R,C as T,D as G,m as J,E as m,i as K,F as S,G as U,H as X,J as O,K as P,L as Q,M as W,N as Y}from"./context-D5nTpIIo.js";let Z=!1;function ae(l,e){return e}function $(l,e,n,u){for(var d=[],s=e.length,v=0;v<s;v++)U(e[v].e,d,!0);var h=s>0&&d.length===0&&n!==null;if(h){var o=n.parentNode;X(o),o.append(n),u.clear(),E(l,e[0].prev,e[s-1].next)}O(d,()=>{for(var c=0;c<s;c++){var r=e[c];h||(u.delete(r.k),E(l,r.prev,r.next)),P(r.e,!h)}})}function le(l,e,n,u,d,s=null){var v=l,h={flags:e,items:new Map,first:null};{var o=l;v=o.appendChild(V())}var c=null,r=!1,_=z(()=>{var a=n();return K(a)?a:a==null?[]:R(a)});q(()=>{var a=M(_),t=a.length;r&&t===0||(r=t===0,j(a,h,v,d,e,u,n),s!==null&&(t===0?c?H(c):c=N(()=>s(v)):c!==null&&F(c,()=>{c=null})),M(_))})}function j(l,e,n,u,d,s,v){var h=l.length,o=e.items,c=e.first,r=c,_,a=null,t=[],i=[],y,x,f,p;for(p=0;p<h;p+=1){if(y=l[p],x=s(y,p),f=o.get(x),f===void 0){var B=r?r.e.nodes_start:n;a=re(B,e,a,a===null?e.first:a.next,y,x,p,u,d,v),o.set(x,a),t=[],i=[],r=a.next;continue}if(ee(f,y,p),(f.e.f&C)!==0&&H(f.e),f!==r){if(_!==void 0&&_.has(f)){if(t.length<i.length){var I=i[0],g;a=I.prev;var k=t[0],w=t[t.length-1];for(g=0;g<t.length;g+=1)b(t[g],I,n);for(g=0;g<i.length;g+=1)_.delete(i[g]);E(e,k.prev,w.next),E(e,a,k),E(e,w,I),r=I,a=w,p-=1,t=[],i=[]}else _.delete(f),b(f,r,n),E(e,f.prev,f.next),E(e,f,a===null?e.first:a.next),E(e,a,f),a=f;continue}for(t=[],i=[];r!==null&&r.k!==x;)(r.e.f&C)===0&&(_??(_=new Set)).add(r),i.push(r),r=r.next;if(r===null)continue;f=r}t.push(f),a=f,r=f.next}if(r!==null||_!==void 0){for(var A=_===void 0?[]:R(_);r!==null;)(r.e.f&C)===0&&A.push(r),r=r.next;var D=A.length;if(D>0){var L=h===0?n:null;$(e,A,L,o)}}T.first=e.first&&e.first.e,T.last=a&&a.e}function ee(l,e,n,u){G(l.v,e),l.i=n}function re(l,e,n,u,d,s,v,h,o,c){var r=(o&W)!==0,_=(o&Y)===0,a=r?_?J(d):m(d):d,t=(o&S)===0?v:m(v),i={i:t,v:a,k:s,a:null,e:null,prev:n,next:u};try{return i.e=N(()=>h(l,a,t,c),Z),i.e.prev=n&&n.e,i.e.next=u&&u.e,n===null?e.first=i:(n.next=i,n.e.next=i.e),u!==null&&(u.prev=i,u.e.prev=i.e),i}finally{}}function b(l,e,n){for(var u=l.next?l.next.e.nodes_start:n,d=e?e.e.nodes_start:n,s=l.e.nodes_start;s!==u;){var v=Q(s);d.before(s),s=v}}function E(l,e,n){e===null?l.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}export{le as e,ae as i};
